<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8, maximum-scale=1.0, user-scalable=no">
    <title>About - THE SONGA WELFARE</title>
    <link rel="icon" type="image/x-icon" href="https://i.postimg.cc/QCfkMpcM/20251121-1617-Golden-Lion-Emblem-remix-01kak8vrfpfb9r1335qyg8w1gt.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Sign-In API -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#D4AF37">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="THE SONGA WELFARE">
    <link rel="apple-touch-icon" href="https://i.postimg.cc/QCfkMpcM/20251121-1617-Golden-Lion-Emblem-remix-01kak8vrfpfb9r1335qyg8w1gt.png">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --gold: #D4AF37;
            --gold-light: #F5E6B3;
            --gold-dark: #B8860B;
            --black: #000000;
            --white: #ffffff;
            --gray: #f5f5f5;
            --dark-gray: #333333;
            --light-gray: #e0e0e0;
            --accent: #25D366;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--white);
            color: var(--black);
            line-height: 1.6;
            padding-bottom: 70px;
        }

        /* Header Styles */
        header {
            background-color: var(--white);
            color: var(--black);
            padding: 0.5rem 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-bottom: 1px solid var(--light-gray);
            height: 60px;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 40px;
            width: auto;
        }

        .brand-name {
            font-weight: bold;
            font-size: 1.2rem;
            margin-left: 10px;
            color: var(--gold-dark);
        }

        .auth-section {
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .join-btn {
            background-color: var(--gold);
            color: var(--black);
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.3s;
            text-decoration: none;
            font-weight: 600;
        }

        .join-btn:hover {
            background-color: var(--gold-dark);
            color: var(--white);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 5px 10px;
            border-radius: 20px;
            background: var(--gold-light);
            cursor: pointer;
            position: relative;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            overflow: hidden;
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--black);
        }

        /* User Profile Dropdown */
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            min-width: 180px;
            z-index: 1000;
            display: none;
            margin-top: 5px;
            overflow: hidden;
        }

        .user-dropdown.active {
            display: block;
        }

        .dropdown-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background-color 0.2s;
            border-bottom: 1px solid var(--light-gray);
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background-color: var(--gold-light);
        }

        .dropdown-item i {
            width: 20px;
            text-align: center;
            color: var(--gold-dark);
        }

        /* Main Content */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 1rem;
        }

        /* Hero Section */
        .hero-section {
            text-align: center;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }

        .hero-logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid var(--gold);
        }

        .hero-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--gold-dark);
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: var(--dark-gray);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Content Sections */
        .content-section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            position: relative;
            color: var(--gold-dark);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--gold);
        }

        .story-content {
            background: var(--gray);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .story-text {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .story-text:last-child {
            margin-bottom: 0;
        }

        /* Mission & Vision */
        .mission-vision {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .mission-card, .vision-card {
            background: var(--white);
            border: 1px solid var(--light-gray);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .card-icon {
            width: 60px;
            height: 60px;
            background: var(--gold);
            color: var(--black);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--gold-dark);
        }

        .card-text {
            color: var(--dark-gray);
            line-height: 1.6;
        }

        /* Values Grid */
        .values-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .value-card {
            background: var(--white);
            border: 1px solid var(--light-gray);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .value-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .value-icon {
            width: 50px;
            height: 50px;
            background: var(--gold);
            color: var(--black);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.2rem;
        }

        .value-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gold-dark);
        }

        .value-description {
            color: var(--dark-gray);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Impact Stats */
        .impact-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            text-align: center;
            padding: 1.5rem;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--gold-dark);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--dark-gray);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Contact Section */
        .contact-section {
            background-color: var(--gray);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .contact-section h3 {
            margin-bottom: 1rem;
            font-size: 1.5rem;
            color: var(--gold-dark);
        }

        .contact-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .contact-btn {
            background-color: var(--gold);
            color: var(--black);
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.3s;
            font-weight: 600;
        }

        .contact-btn:hover {
            background-color: var(--gold-dark);
            color: var(--white);
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 1.5rem;
        }

        .social-link {
            width: 45px;
            height: 45px;
            background: var(--gold);
            color: var(--black);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 1.2rem;
            transition: transform 0.3s;
        }

        .social-link:hover {
            transform: scale(1.1);
            background-color: var(--gold-dark);
            color: var(--white);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--white);
            display: flex;
            justify-content: space-around;
            padding: 0.8rem 0;
            z-index: 100;
            border-top: 1px solid var(--light-gray);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--dark-gray);
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.3s;
        }

        .nav-icon {
            font-size: 1.3rem;
            margin-bottom: 3px;
        }

        .nav-item.active {
            color: var(--gold-dark);
        }

        .nav-item:hover {
            color: var(--gold-dark);
        }

        /* Install Prompt */
        .install-prompt {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--gold);
            color: var(--black);
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            align-items: center;
            gap: 10px;
            max-width: 90%;
        }

        .install-prompt.show {
            display: flex;
        }

        .install-btn {
            background: var(--black);
            color: var(--white);
            border: none;
            border-radius: 4px;
            padding: 6px 12px;
            font-size: 0.8rem;
            cursor: pointer;
            font-weight: 600;
        }

        .install-btn:hover {
            background: var(--dark-gray);
        }

        .close-prompt {
            background: none;
            border: none;
            color: var(--black);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Google Form Modal */
        .google-form-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .google-form-modal.active {
            display: flex;
        }

        .google-form-content {
            background-color: white;
            border-radius: 12px;
            width: 95%;
            max-width: 800px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            animation: modalAppear 0.5s ease-out;
        }

        @keyframes modalAppear {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .google-form-header {
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: var(--black);
            padding: 1.5rem;
            text-align: center;
            position: relative;
        }

        .google-form-header h2 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .google-form-body {
            padding: 0;
            height: 600px;
            overflow: hidden;
        }

        .google-form-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.2);
            border: none;
            color: var(--black);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 70px;
            right: 20px;
            background: var(--black);
            color: white;
            padding: 12px 20px;
            border-radius: 4px;
            z-index: 1000;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s;
            max-width: 300px;
        }

        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        .notification.error {
            background: #e74c3c;
        }

        .notification.success {
            background: var(--gold);
            color: var(--black);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .mission-vision {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .values-grid {
                grid-template-columns: 1fr;
            }
            
            .impact-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .install-prompt {
                flex-direction: column;
                text-align: center;
                gap: 8px;
            }
            
            .google-form-content {
                width: 98%;
                height: 90vh;
            }
            
            .google-form-body {
                height: calc(90vh - 80px);
            }
            
            .user-name {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.5rem;
            }
            
            .hero-section {
                padding: 2rem 0;
            }
            
            .story-content {
                padding: 1.5rem;
            }
            
            .contact-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .contact-btn {
                width: 100%;
                max-width: 250px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Install Prompt -->
    <div class="install-prompt" id="installPrompt">
        <span>Install THE SONGA WELFARE App</span>
        <button class="install-btn" id="installButton">Install</button>
        <button class="close-prompt" id="closePrompt">&times;</button>
    </div>

    <!-- Google Form Modal -->
    <div class="google-form-modal" id="googleFormModal">
        <div class="google-form-content">
            <div class="google-form-header">
                <h2>THE SONGA WELFARE Membership Registration</h2>
                <p>Complete the form below to join our community</p>
                <button class="close-modal" id="closeGoogleFormModal">&times;</button>
            </div>
            <div class="google-form-body">
                <iframe 
                    src="https://docs.google.com/forms/d/e/1FAIpQLScann_IwZdMXihlYHa6jQK1gLy7qEsIVDR-mKUzc3CroZgvOQ/viewform?embedded=true" 
                    class="google-form-iframe"
                    frameborder="0"
                    marginheight="0"
                    marginwidth="0">
                    Loading…
                </iframe>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="https://i.postimg.cc/QCfkMpcM/20251121-1617-Golden-Lion-Emblem-remix-01kak8vrfpfb9r1335qyg8w1gt.png" alt="THE SONGA WELFARE Logo">
                <div class="brand-name">THE SONGA™</div>
            </div>
            <div class="auth-section">
                <div id="userProfile" class="user-profile" style="display: none;">
                    <div class="user-avatar">
                        <img id="userAvatar" src="" alt="User Avatar">
                    </div>
                    <div class="user-name" id="userDisplayName"></div>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="dropdown-item" id="viewProfileOption">
                            <i class="fas fa-user"></i>
                            <span>View Profile</span>
                        </div>
                        <div class="dropdown-item" id="membershipOption">
                            <i class="fas fa-crown"></i>
                            <span>Membership</span>
                        </div>
                        <div class="dropdown-item" id="settingsOption">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </div>
                        <div class="dropdown-item" id="signOutOption">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Sign Out</span>
                        </div>
                    </div>
                </div>
                <button class="join-btn" id="headerJoinBtn">
                    <i class="fas fa-user-plus"></i>
                    <span>Join Us</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-logo">
                <img src="https://i.postimg.cc/QCfkMpcM/20251121-1617-Golden-Lion-Emblem-remix-01kak8vrfpfb9r1335qyg8w1gt.png" alt="THE SONGA WELFARE Logo">
            </div>
            <h1 class="hero-title">THE SONGA™</h1>
            <p class="hero-subtitle">The community that believes in personal growth, financial stability and social well-being</p>
        </section>

        <!-- Story Section -->
        <section class="content-section">
            <h2 class="section-title">Our Story</h2>
            <div class="story-content">
                <p class="story-text">
                    SonGa is a consortium of programs aimed at developing and nurturing the human mind, to make great achievements and beyond. It envisions a built-up society that holds on to core disciplines of bodily fitness, mental acuity and spiritual strength and stability.
                </p>
                <p class="story-text">
                    The worldly systems and their definitions have brought many to a sequence of serving these systems, which are not all beneficial. SonGa seeks to awaken the many sleeping giants within our people.
                </p>
            </div>
        </section>

        <!-- Mission & Vision -->
        <section class="content-section">
            <h2 class="section-title">Mission & Vision</h2>
            <div class="mission-vision">
                <div class="mission-card">
                    <div class="card-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <h3 class="card-title">Our Mission</h3>
                    <p class="card-text">
                     SonGa envisions a world where awakened individuals, strong in mind, body, and spirit, transcend limiting systems to achieve greatness.</p>
                </div>
                <div class="vision-card">
                    <div class="card-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h3 class="card-title">Our Vision</h3>
                    <p class="card-text">
                    To develop and nurture human capacity by engaging the mind and body to perceive reality with clarity and transcend perceived limits.                    </p>
                </div>
            </div>
        </section>

        <!-- Core Values -->
        <section class="content-section">
            <h2 class="section-title">Core Values</h2>
            <div class="values-grid">
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <h3 class="value-title">Discipline</h3>
                    <p class="value-description">Discipline is the foundational commitment to our purpose. It is the conscious choice to adhere to our path, especially when it is difficult. This is not merely about routine, but about the inner strength to prioritize long-term growth over short-term comfort, building the structure upon which greatness is achieved</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-fist-raised"></i>
                    </div>
                    <h3 class="value-title">Determination</h3>
                    <p class="value-description">Determination is the unwavering resolve that fuels our journey. It is the fire within that refuses to be extinguished by obstacles or setbacks. Where discipline sets the course, determination provides the relentless drive to continue moving forward, turning challenges into stepping stones toward our vision.</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-hammer"></i>
                    </div>
                    <h3 class="value-title">Diligence</h3>
                    <p class="value-description">Diligence is the focused and earnest application of our energy to the task at hand. It is the commitment to quality and thoroughness in all endeavors, no matter how small. This attentive care ensures that every action is meaningful and contributes to building something of lasting value and integrity.</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <h3 class="value-title">Consistency</h3>
                    <p class="value-description">Consistency is the powerful rhythm that transforms isolated acts into lasting transformation. It is the daily practice of discipline, determination, and diligence that compounds over time. Through consistency, we build unstoppable momentum and bridge the gap between aspiration and tangible reality.</p>
                </div>
            </div>
        </section>

        <!-- Impact -->
        <section class="content-section">
            <h2 class="section-title">Our Impact</h2>
            <div class="impact-stats">
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Members Served</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">10+</div>
                    <div class="stat-label">Events Hosted</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">100+</div>
                    <div class="stat-label">Books Available</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2+</div>
                    <div class="stat-label">Years of Service</div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="contact-section">
            <h3>Join Our Community</h3>
            <p>Ready to grow with us and make a positive impact? Connect with THE SONGA WELFARE today.</p>
            <div class="contact-buttons">
                <a href="https://wa.me/254784599322" class="contact-btn">
                    <i class="fab fa-whatsapp"></i> WhatsApp Us
                </a>
                <a href="mailto:office.songawelfare@gmail.com" class="contact-btn">
                    <i class="fas fa-envelope"></i> Email Us
                </a>
                <a href="events.html" class="contact-btn">
                    <i class="fas fa-calendar-alt"></i> Attend Events
                </a>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item">
            <i class="fas fa-home nav-icon"></i>
            <span>Home</span>
        </a>
        <a href="events.html" class="nav-item">
            <i class="fas fa-calendar-alt nav-icon"></i>
            <span>Events</span>
        </a>
        <a href="library.html" class="nav-item">
            <i class="fas fa-book nav-icon"></i>
            <span>Library</span>
        </a>
        <a href="about.html" class="nav-item active">
            <i class="fas fa-info-circle nav-icon"></i>
            <span>About</span>
        </a>
    </nav>

    <script>
        // DOM Elements
        const installPrompt = document.getElementById('installPrompt');
        const installButton = document.getElementById('installButton');
        const closePrompt = document.getElementById('closePrompt');
        const googleFormModal = document.getElementById('googleFormModal');
        const closeGoogleFormModal = document.getElementById('closeGoogleFormModal');
        const headerJoinBtn = document.getElementById('headerJoinBtn');
        const notification = document.getElementById('notification');
        const userProfile = document.getElementById('userProfile');
        const userAvatar = document.getElementById('userAvatar');
        const userDisplayName = document.getElementById('userDisplayName');
        const userDropdown = document.getElementById('userDropdown');
        const viewProfileOption = document.getElementById('viewProfileOption');
        const membershipOption = document.getElementById('membershipOption');
        const settingsOption = document.getElementById('settingsOption');
        const signOutOption = document.getElementById('signOutOption');

        // User state
        let currentUser = null;
        let dropdownOpen = false;

        // Show notification
        function showNotification(message, type = 'success') {
            // Create a temporary notification element
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 70px;
                right: 20px;
                background: ${type === 'error' ? '#e74c3c' : 'var(--gold)'};
                color: ${type === 'error' ? 'white' : 'var(--black)'};
                padding: 12px 20px;
                border-radius: 4px;
                z-index: 1000;
                max-width: 300px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        // Google Sign-In Handler
        function handleGoogleSignIn(response) {
            console.log('Google Sign-In response:', response);
            
            // Decode the JWT token to get user info
            const userData = parseJwt(response.credential);
            console.log('User data:', userData);
            
            // Store user data
            currentUser = {
                id: userData.sub,
                email: userData.email,
                firstName: userData.given_name,
                lastName: userData.family_name,
                fullName: userData.name,
                picture: userData.picture,
                emailVerified: userData.email_verified
            };
            
            // Update UI
            updateUserProfile();
            
            // Show success message
            showNotification(`Welcome, ${currentUser.firstName}!`, 'success');
        }

        // Parse JWT token
        function parseJwt(token) {
            try {
                const base64Url = token.split('.')[1];
                const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                }).join(''));
                return JSON.parse(jsonPayload);
            } catch (error) {
                console.error('Error parsing JWT:', error);
                return {};
            }
        }

        // Update user profile in header
        function updateUserProfile() {
            if (currentUser) {
                userAvatar.src = currentUser.picture;
                userDisplayName.textContent = currentUser.firstName;
                userProfile.style.display = 'flex';
                headerJoinBtn.style.display = 'none';
                
                // Store user data in localStorage
                localStorage.setItem('the_songa_welfare_user', JSON.stringify(currentUser));
            }
        }

        // Load user from localStorage
        function loadUserFromStorage() {
            const storedUser = localStorage.getItem('the_songa_welfare_user');
            if (storedUser) {
                currentUser = JSON.parse(storedUser);
                updateUserProfile();
            }
        }

        // Sign out user
        function signOut() {
            currentUser = null;
            userProfile.style.display = 'none';
            headerJoinBtn.style.display = 'flex';
            localStorage.removeItem('the_songa_welfare_user');
            closeDropdown();
            
            showNotification('Signed out successfully', 'success');
        }

        // Toggle dropdown
        function toggleDropdown() {
            dropdownOpen = !dropdownOpen;
            if (dropdownOpen) {
                userDropdown.classList.add('active');
            } else {
                userDropdown.classList.remove('active');
            }
        }

        // Close dropdown
        function closeDropdown() {
            dropdownOpen = false;
            userDropdown.classList.remove('active');
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            loadUserFromStorage();
            
            // Add click event to user profile to toggle dropdown
            userProfile.addEventListener('click', function(e) {
                e.stopPropagation();
                toggleDropdown();
            });
            
            // Close dropdown when clicking elsewhere
            document.addEventListener('click', function() {
                closeDropdown();
            });
            
            // Prevent dropdown from closing when clicking inside it
            userDropdown.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        });

        // Dropdown option event listeners
        viewProfileOption.addEventListener('click', function() {
            showNotification('Profile feature coming soon!', 'success');
            closeDropdown();
        });

        membershipOption.addEventListener('click', function() {
            if (currentUser) {
                googleFormModal.classList.add('active');
                closeDropdown();
            } else {
                showNotification('Please sign in first', 'error');
            }
        });

        settingsOption.addEventListener('click', function() {
            showNotification('Settings feature coming soon!', 'success');
            closeDropdown();
        });

        signOutOption.addEventListener('click', function() {
            signOut();
            closeDropdown();
        });

        // Header Join Us button
        headerJoinBtn.addEventListener('click', function() {
            if (!currentUser) {
                showNotification('Please sign in with Google first', 'error');
            } else {
                googleFormModal.classList.add('active');
            }
        });

        // Close Google Form modal
        closeGoogleFormModal.addEventListener('click', function() {
            googleFormModal.classList.remove('active');
        });

        // Close modal when clicking outside
        googleFormModal.addEventListener('click', function(e) {
            if (e.target === googleFormModal) {
                googleFormModal.classList.remove('active');
            }
        });

        // PWA Installation
        let deferredPrompt;

        // Listen for beforeinstallprompt event
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent the mini-infobar from appearing on mobile
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            // Show the install prompt
            installPrompt.classList.add('show');
        });

        // Install button click handler
        installButton.addEventListener('click', async () => {
            if (!deferredPrompt) return;
            
            // Show the install prompt
            deferredPrompt.prompt();
            
            // Wait for the user to respond to the prompt
            const { outcome } = await deferredPrompt.userChoice;
            
            if (outcome === 'accepted') {
                console.log('User accepted the install prompt');
                installPrompt.classList.remove('show');
            } else {
                console.log('User dismissed the install prompt');
            }
            
            // Clear the saved prompt since it can't be used again
            deferredPrompt = null;
        });

        // Close prompt handler
        closePrompt.addEventListener('click', () => {
            installPrompt.classList.remove('show');
        });

        // Track app installation
        window.addEventListener('appinstalled', () => {
            console.log('PWA was installed');
            installPrompt.classList.remove('show');
            deferredPrompt = null;
        });

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Bottom nav active state
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                // Only prevent default for current page navigation
                if (this.href === window.location.href) {
                    e.preventDefault();
                }
                
                // Update active state visually
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                this.classList.add('active');
            });
        });

        // Add some interactive animations
        document.addEventListener('DOMContentLoaded', function() {
            const valueCards = document.querySelectorAll('.value-card');
            const statCards = document.querySelectorAll('.stat-card');
            
            valueCards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 200);
            });
            
            statCards.forEach((card, index) => {
                card.style.opacity = '0';
                
                setTimeout(() => {
                    card.style.transition = 'opacity 0.5s ease';
                    card.style.opacity = '1';
                }, 800 + (index * 100));
            });
        });

        // Animate stat numbers (for demonstration)
        function animateStats() {
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(stat => {
                const target = parseInt(stat.textContent);
                let current = 0;
                const increment = target / 50;
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    stat.textContent = Math.floor(current) + (stat.textContent.includes('+') ? '+' : '');
                }, 30);
            });
        }

        // Start animation when stats come into view
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateStats();
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });

        observer.observe(document.querySelector('.impact-stats'));

        // Global function for Google Sign-In callback
        window.handleGoogleSignIn = handleGoogleSignIn;
    </script>
</body>
</html>
